<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Color Vision</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <style>
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0; 
      margin-left: 7px; 
    }

    .color-letter:nth-child(6n+1) {
      color: #ff0000; 
    }

    .color-letter:nth-child(6n+2) {
      color: #ff7f00;
    }

    .color-letter:nth-child(6n+3) {
      color: #ffd608; 
    }

    .color-letter:nth-child(6n+4) {
      color: #009f00; 
    }

    .color-letter:nth-child(6n+5) {
      color: #5cf1ff; 
    }

    .color-letter:nth-child(6n+6) {
      color: #800080; 
    }

    .vision-letter {
      color: #007bff; 
    }

    .eye-icon-container {
      width: 40px; 
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%; 
      border: 1px solid #343a40; 
    }

    .eye-icon {
      width: 100%; 
      height: 100%;
      border-radius: 50%; 
    }

    .footer {
      background-color: #343a40;
      color: white;
      padding: 20px 0;
      text-align: center;
    }

    .footer a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .footer a.portfolio {
      color: #ffc107; 
      font-weight: bold;
      font-size: 18px;
      text-transform: uppercase;
    }

    .footer a.portfolio:hover {
      color: #ffcd39; 
      text-decoration: none;
    }

    .footer a.portfolio i {
      margin-right: 5px; 
    }

    /* For laptop screen */
    @media screen and (min-width:700px) {
    .mb-3{
      height: 100%;
      width: 800px;
      display: flex;
      flex-direction: column;
      padding: 30px;
      align-items: center;
      justify-content: center;
      
    }
  }
    #colorBlindnessForm{
      text-align: -webkit-center;
    }
    .form-label{
      padding-top: 20px;
    }
    .btn{
      border: 1px solid #e9cbee;
    border-radius: 6px;
    background: linear-gradient(90deg,rgb(34 23 122) 0%,rgb(177 120 198) 52%,rgb(13 8 98) 99%, transparent);
    color: white;
    text-decoration: none;
    padding: 3px 20px;
    }
    .btn:hover{
  border: 1px solid #e9cbee;
    background-color: #d8ade0;
    background: linear-gradient(90deg,rgb(177 120 198) 0%,rgb(34 23 122) 52%,rgb(177 120 198) 99%, transparent);
    padding: 3px 25px;
    transition: 0.1s;
}

  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-dark">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <div class="eye-icon-container mr-2">
        <img src="https://source.unsplash.com/RdaKT5RtUk8" alt="Eye Icon" class="eye-icon">
      </div>
      <div class="logo">
        <span class="color-letter">C</span>
        <span class="color-letter">o</span>
        <span class="color-letter">l</span>
        <span class="color-letter">o</span>
        <span class="color-letter">r</span>
        <span class="vision-letter">Vision</span>
      </div>
    </a>
  </div>
</nav>

<!-- Content -->

<section>
  
<div class="container p-5">
  <h1 class="mb-4 text-center">Color Blindness Test</h1>
  <form id="colorBlindnessForm">
    <!-- Questions will be dynamically added here -->
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<!-- Load lodash library -->
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // JavaScript code for dynamically adding questions
  document.addEventListener("DOMContentLoaded", function() {
    var form = document.getElementById("colorBlindnessForm");
    var questions = [
      { image: "X", answer: "X", attempted: false },
      { image: "Q", answer: "Q", attempted: false },
      { image: "99", answer: "99", attempted: false },
      { image: "9", answer: "9", attempted: false },
      { image: "62", answer: "62", attempted: false },
      { image: "98", answer: "98", attempted: false },
      { image: "3", answer: "3", attempted: false },
      { image: "2", answer: "2", attempted: false },
      { image: "60", answer: "60", attempted: false },
      { image: "2", answer: "2", attempted: false },
      { image: "4", answer: "4", attempted: false },
      { image: "8", answer: "8", attempted: false },
      { image: "3", answer: "3", attempted: false },
      { image: "5", answer: "5", attempted: false },
      { image: "1", answer: "1", attempted: false },
      { image: "9", answer: "9", attempted: false },
      { image: "6", answer: "6", attempted: false },
      { image: "15", answer: "15", attempted: false },
      { image: "3", answer: "3", attempted: false },
      { image: "0", answer: "0", attempted: false }
    ];

    // Select 10 random indexes
    var randomIndexes = _.sampleSize(_.range(0, questions.length), 10);

    // Create an array to store the selected questions
    var selectedQuestions = [];

    // Add questions to the form and store the selected questions
    randomIndexes.forEach(function(index, i) {
      var question = questions[index];
      selectedQuestions.push(question);

      var questionDiv = document.createElement("div");
      questionDiv.classList.add("mb-3");

      var imageSrc = "images/image" + (index + 1) + ".jpg"; 
      var image = document.createElement("img");
      image.src = imageSrc;
      image.classList.add("img-fluid");
      image.alt = "Question " + (i + 1);
      questionDiv.appendChild(image);

      var label = document.createElement("label");
      label.htmlFor = "answer" + (i + 1);
      label.classList.add("form-label");
      label.textContent = "Enter the alphabet or number you that see:";
      questionDiv.appendChild(label);

      var input = document.createElement("input");
      input.type = "text";
      input.classList.add("form-control");
      input.id = "answer" + (i + 1);
      input.name = "answer" + (i + 1);
      questionDiv.appendChild(input);

      form.insertBefore(questionDiv, form.lastElementChild); // This Insert before the submit button
    });

    // Form submission handler
    form.addEventListener("submit", function(event) {
      event.preventDefault(); // Prevent default form submission
      var score = 0;
      var answeredQuestions = 0; // Track the number of questions answered
      var incorrectCount = 0; // Track the number of incorrect answers
      selectedQuestions.forEach(function(question, i) {
        var userInput = document.getElementById("answer" + (i + 1)).value.trim().toUpperCase();
        if (userInput === question.answer) {
          score++;
        } else if (userInput !== "") {
          // If the question is attempted and the answer is incorrect
          incorrectCount++;
        }
        // Mark the question as attempted if it has an answer
        if (userInput !== "") {
          answeredQuestions++;
          question.attempted = true;
        }
      });
      // Calculate the unattempted questions
      var unattemptedCount = selectedQuestions.length - answeredQuestions;
      // Redirect to score page with the score, attempted questions, incorrect count, and unattempted count as query parameters
      window.location.href = "score.html?score=" + score + "&attempted=" + answeredQuestions + "&incorrect=" + incorrectCount + "&unattempted=" + unattemptedCount;
      
      // Clear input fields after form submission
      form.reset();
    });
  });
</script>
  
</section>


<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="d-inline-flex align-items-center justify-content-center">
          <div class="eye-icon-container mr-2">
            <img src="https://source.unsplash.com/RdaKT5RtUk8" alt="Eye Icon" class="eye-icon">
          </div>
          <div class="logo">
            <span class="color-letter">C</span>
            <span class="color-letter">o</span>
            <span class="color-letter">l</span>
            <span class="color-letter">o</span>
            <span class="color-letter">r</span>
            <span class="vision-letter">Vision</span>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <p>&copy; 2024 Sourav Kumar Choudhary. All rights reserved.</p>
        <p>
          <a href="https://github.com/Sourav810" target="_blank"><i class="fab fa-github"></i></a>
          <a href="https://www.linkedin.com/in/Sourav810" target="_blank"><i class="fab fa-linkedin"></i></a>
          <a href="mailto:souravbksc96@gmail.com"><i class="fas fa-envelope"></i></a>
          <a href="https://twitter.com/souravkr007" target="_blank"><i class="fa-brands fa-x-twitter"></i></a>
          <a href="https://skc1.netlify.app/" target="_blank" class="portfolio"><i class="fas fa-briefcase"></i>Portfolio</a>
        </p>
      </div>
    </div>
  </div>
</footer>


  
</body>
</html>